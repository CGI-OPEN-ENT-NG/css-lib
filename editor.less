body editor{
	.run-transition(margin);
	display: block;
	position: relative;
	float: left;
	width: 100%;
	> popover{
		position: absolute;
		right: 10px;
		top: 10px;
		z-index: 10;
		> [popover-opener]{
			width: 39px;
		}
		ul{
			padding: 0;
			margin: 10px 0 10px 0;
			li{
				list-style-type: none;
				line-height: 30px;
				text-align: left;
				padding-left: 15px;
				cursor: pointer;
				.run-transition(background);
			}
			li:hover{
				background: #eee;
			}
		}
		popover-content{
			width: 180px;
			left: -165px;
			margin-top: 15px;
		}
		popover-content::before{
			left: auto;
			right: 0;
		}
	}
	> [contenteditable]{
		overflow: hidden;
		float: left;
		box-sizing: border-box;
		.run-transition(width);
		min-height: 300px;
        border: 1px solid #ddd !important;
		a{
			img{
				border: 1px dashed;
			}
		}
	}
	> textarea{
		float: left;
		box-sizing: border-box;
		.run-transition(width);
		margin: 0;
		min-height: 300px;
        line-height: 1.5em;
        font-family: Consolas;
        tab-size: 4;
        font-size: 16px;
        border: 1px solid #ddd;
	}
    > code.language-html{
        position: absolute;
        border-left-width: 0;
        right: 0;
        z-index: 1;
        top: 47px;
        pointer-events: none;
        background-color: transparent;
        padding: 10px;
        box-sizing: border-box;
        overflow: hidden;
        border: 1px solid transparent;
        border-top-width: 2px;
        white-space: pre-wrap;
        .tag{
            padding-left: 0;
        }
    }
	&.edit{
		> [contenteditable]{
			width: 100%;
		}
		> textarea, > code{
			width: 0;
			padding: 0;
			border: 0;
		}
	}
	&.html{
		> [contenteditable]{
			width: 0;
			padding: 0;
			border: 0;
			min-height: 0 !important;
			height: 0 !important;
		}
		> textarea{
			width: 100%;
            border: 1px solid #ddd;
		}
        > code{
            width: 100%;
        }
	}
	&.both{
		> [contenteditable]{
			width: 50%;
		}
		> textarea{
			width: 50%;
			border-left-width: 0;
            border: 1px solid #ddd;
		}
        > code {
            width: 50%;
            border: 1px solid transparent;
            border-top-width: 0px;
        }
	}
	&::after{
		content: " ";
		display: block;
		width: 100%;
		clear: both;
	}
	contextual-menu{
		position: absolute;
		overflow: hidden;
		width: 0;
		z-index: 10;
		background-color: #fff;
		.run-transition(width);
		ul{
			margin: 0;
			padding: 0;
			li{
				padding: 5px;
				list-style-type: none;
			}
			li:hover{
				background: #eee;
			}
		}
	}
	contextual-menu.show{
		width: 200px;
	}
	editor-toolbar{
		display: block;
		float: left;
		width: 100%;
		background: #f5f5f5;
		border: 1px solid #ddd;
		box-sizing: border-box;
		border-bottom: 0;
		&.inline{
			position: absolute;
			height: 46px;
			top: 0;
			.run-transition(bottom);
			select-list, popover{
				display: none;
			}
		}
		&.inline.show{
			select-list{
				display: inline;
			}
			popover{
				display: inline-block
			}
		}
		.sp-replacer{
			display: none;
		}
		.sp-replacer:first-of-type{
			display: inline-block;
		}
		.option{
			display: inline-block;
			padding: 6px 5px;
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			position: relative;
			.run-transition(all);
			height: 30px;
			min-width: 20px;
			vertical-align: middle;
			border-bottom: 3px solid transparent;
			i{
				width: 15px;
				height: 15px;
				display: inline-block;
				margin: 1px;
				.run-transition(all);
				background-size: contain;
				-webkit-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}
		}
		.option.disabled{
			opacity: 0.3;
			pointer-events: none;
		}
		.option:hover{
			background-color: #eee;
			cursor: pointer;
		}
		.option.toggled{
			background-color: #e4e4e4;
			box-shadow: inset 1px 1px 1px rgba(0,0,0,0.2);
		}
		.option.undo > i{
			.icon("editor/undo", 15px);
		}
		.option.redo > i{
			.icon("editor/redo", 15px);
		}
		.option.bold > i{
			.icon("editor/bold", 15px);
		}
		.option.italic > i{
			.icon("editor/italic", 15px);
		}
		.option.underline > i{
			.icon("editor/underline", 15px);
		}
		.option.justify-left > i{
			.icon("editor/justify-left", 15px)
		}
		.option.justify-right > i{
			.icon("editor/justify-right", 15px)
		}
		.option.justify-center > i{
			.icon("editor/justify-center", 15px);
		}
		.option.justify-full > i{
			.icon("editor/justify-full", 15px);
		}
		.option.subscript > i{
			.icon("editor/subscript", 15px);
		}
		.option.superscript > i{
			.icon("editor/superscript", 15px);
		}
		.option.quote > i{
			.icon("editor/quote", 15px)
		}
		.option.ulist i{
			.icon("editor/ulist", 15px);
		}
		.option.olist > i{
			.icon("editor/olist", 15px);
		}
		.option.remove-format > i{
			.icon("editor/remove-format", 15px);
		}
		.option.image > i{
			.icon("editor/image", 15px)
		}
		.option.sound > i{
			.icon("editor/sound", 15px)
		}
		.option.mathjax > i{
			.icon("editor/mathjax", 15px)
		}
		.option.templates > i{
			.icon("editor/templates", 15px)
		}
		.option.font{
			width: 120px;
			&:hover{
				background: none;
				border: none;
			}
		}
		.option.font-size{
			&:hover{
				background: none;
				border: none;
			}
		}
		.option.format{
			&:hover{
				background: none;
				border: none;
			}
			h1, h2, h3, p{
				margin: 0;
			}
		}
		.option.table{
			.draw-table{
				.row{
					min-height: none;
				}
				.cell{
					height: 10px;
					width: 10px;
					border: 1px solid #fff;
					background: #efefef;
				}
				.cell.match{
					background: #ddd;
				}
			}
			popover > i{
				.icon("editor/table", 21px);
			}
			popover popover-content{
				width: 120px;
				left: -58px;
				margin-top: 15px;
			}
		}
		.option.linker{
			> i{
				.icon("editor/linker", 15px)
			}
		}
		.option.smileys{
			> i {
				.icon("editor/smileys", 15px);
			}
			lightbox{
				img{
					width: 50px;
					height: 50px;
				}
			}
		}
		.option.unlink > i{
			.icon("editor/unlink", 15px);
		}
		.option.embed > i{
			.icon("editor/embed", 15px);
		}
		.option.audio > i{
			.icon("editor/audio", 15px);
		}
	}
}

select-list{
	position: relative;
	font-size: 14px;
	z-index: 2;
	.options{
		position: absolute;
		background-color: #fff;
		padding: 0 10px 10px;
		opacity: 1;
		.run-transition(all);
		overflow: hidden;
		top: 0;
		left: 0;
		min-width: 100%;
		box-sizing: border-box;
		opt{
			padding: 5px;
			display: block;
		}
	}
	.options.hidden{
		height: 0 !important;
		opacity: 0;
		padding: 0 10px;
	}
	.selected-value{
		border-bottom: 1px solid #ddd;
		min-width: 82px;
		min-height: 24px;
		pointer-events: all;
		line-height: 28px;
		display: inline-block;
		vertical-align: middle;
		padding-right: 15px;
	}
}